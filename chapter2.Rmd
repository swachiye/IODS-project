# **Regession and Model Validation**

Author: Sheila Wachiye

Date:   November 5 2020


# *Introduction*
What is regression?

Regression is a statistical method used to assess the relationship between a dependent variable and one and more independent variables. The dependent variable can be seen as response variable while the independent variables as explanatory variables. 

What is model validation?
According to wikipedia, a model validation is the task of confirming that the outputs of a statistical model have enough fidelity to the outputs of the data-generating process that the objectives of the investigation can be achieved.

# *Steps*

Regression analysis using RMarkdown include the following steps
For this report, we will be using "learning2014" 

[Data can be accessed from this site ](https://www.rstudio.com)http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/learning2014.txt)

1.Load data into Rmarkdown and assign it a working name.
In this case we use "lrn14".
Use *read.table* function, to read the file in a table format and creates a data frame.

The separator is a comma "," and the file includes a header
```{r}
lrn14 <- read.table("http://s3.amazonaws.com/assets.datacamp.com/production/course_2218/datasets/learning2014.txt", sep=",", header=TRUE)
```

2. To have an idea of how the data looks like. 

Look at the structure and the dimension of the data
```{r}
# data structure
#
str(lrn14)
 
# data dimensions
# This gives you the number of rows and columns in the data frame
dim(lrn14)
```


3. To visualise data, we can create graphics using *ggplots function*.

 Ggplot2 is an implementation of Leland Wilkinson's Grammar of Graphics which is popula for data  visualization.
Install ggplots using *install.packages(ggplots2)* 

Access the *gglot2* in Rmarkdown using library
```{r}
library(ggplot2)
```

To visualise points against the students attitude, initialize plot with data and aesthetic mapping. 

To highlight the distribution of the attitude based on gender, use *col(gender)*. This will assign different colors for each of the gender.
```{r}
# initialize plot with data and aesthetic mapping
p1 <- ggplot(lrn14, aes(x = attitude, y = points, col= gender))

# define the visualization type (points)
p2 <- p1 + geom_point()
# draw the plot 
p2
# add the regression line
p3 <- p2 + geom_smooth(method = "lm")
# draw the plot 
p3
# add title and draw the plot
p4 <- p3 + ggtitle("Student's attitude in relation to exam points")
p4
```

# Use scatter plot matrix of the variables in learning2014 to assess the distributions and correlations between the variables.
```{r}
# [-1] excludes the first column (gender)
 pairs(lrn14[-1])

```
# access the GGally and ggplot2 libraries
```{r}
library(GGally)
# create a more advanced plot matrix with ggpairs()
p5 <- ggpairs(lrn14, mapping = aes(), lower = list(combo = wrap("facethist", bins = 20)))
# plot 
p5
```

```{r}
# learning2014 is available

# a scatter plot of points versus attitude
library(ggplot2)
qplot(attitude, points, data = lrn14) + geom_smooth(method = "lm")

# fit a linear model
my_model <- lm(points ~ attitude, data = lrn14)

# print out a summary of the model

summary(my_model)
```
```{r}
# learning2014 is available

# fit a linear model
my_model1 <- lm(points ~ stra, data = lrn14)

# print out a summary of the model

summary(my_model1)
```
```{r}
# learning2014 is available

# a scatter plot of points versus attitude
library(ggplot2)
qplot(attitude, points, data = lrn14) + geom_smooth(method = "lm")

# fit a linear model
my_model <- lm(points ~ surf, data = lrn14)

# print out a summary of the model

summary(my_model)
```
```{r}
# learning2014 is available

## create a regression model with multiple explanatory variables
my_model2 <- lm(points ~ attitude+ stra+ surf, data = lrn14)
# print out a summary of the model
summary(my_model2)
# draw diagnostic plots using the plot() function. Choose the plots 1, 2 and 5
par(mfrow = c(2,2))
plot(my_model2, which= c(1, 2, 5))

```





































































































